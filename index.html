<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Web Incre√≠ble</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
</head>
<body class="bg-gray-50 text-gray-800 font-sans min-h-screen">

    <nav class="bg-white shadow p-4 sticky top-0 z-50">
        <div class="max-w-5xl mx-auto">
            <h1 class="text-xl font-bold text-teal-600 flex items-center gap-2">
                <i class="ph-fill ph-storefront"></i> Mi Web
            </h1>
        </div>
    </nav>

    <main class="max-w-5xl mx-auto mt-8 p-4">
        <div id="items-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Cargando... -->
        </div>
    </main>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getFirestore, collection, onSnapshot } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        // üî¥ PEGA TU CONFIG DE FIREBASE AQU√ç (SOLO FIREBASE) üî¥
        const firebaseConfig = {

  apiKey: "AIzaSyDr490X-m0dw5wnQaTmyhjjzd1TRJgEMcs",

  authDomain: "mi-web-app-f0523.firebaseapp.com",

  projectId: "mi-web-app-f0523",

  storageBucket: "mi-web-app-f0523.firebasestorage.app",

  messagingSenderId: "509336040232",

  appId: "1:509336040232:web:b41a777c6dd63ba350d61d",

  measurementId: "G-1BFT6DZEV5"

};
const CLOUD_NAME = "dq1ohhul6"; 
        const UPLOAD_PRESET = "rzuldi4r";

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        onSnapshot(collection(db, "productos"), (snapshot) => {
            const container = document.getElementById('items-container');
            container.innerHTML = ''; 

            snapshot.forEach((doc) => {
                const item = doc.data();
                
                // Determinar qu√© HTML mostrar seg√∫n el archivo
                let media = '';
                if (item.url) {
                    if (item.tipo === 'video') {
                        media = `<video controls class="w-full h-56 object-cover bg-black"><source src="${item.url}"></video>`;
                    } else {
                        // Por defecto asumimos imagen
                        media = `<img src="${item.url}" class="w-full h-56 object-cover" alt="${item.titulo}">`;
                    }
                } else {
                    media = `<div class="w-full h-56 bg-gray-200 flex items-center justify-center text-gray-400"><i class="ph ph-image text-4xl"></i></div>`;
                }

                const card = `
                    <div class="bg-white rounded-xl shadow overflow-hidden hover:shadow-lg transition">
                        ${media}
                        <div class="p-4">
                            <h3 class="font-bold text-lg">${item.titulo}</h3>
                            <p class="text-sm text-gray-500 mt-1">${item.desc || ''}</p>
                            <div class="mt-4 font-bold text-teal-600">${item.precio || ''}</div>
                        </div>
                    </div>
                `;
                container.innerHTML += card;
            });
        });
    </script>
</body>
</html>
